{
  "$schema": "https://json.schemastore.org/claude-code-settings.json",
  "permissions": {
    "allow": [
      "mcp__gemini-cli__ask-gemini",
      "Bash(*)",
      "Task(*)",
      "Glob(*)",
      "Grep(*)",
      "LS(*)",
      "ExitPlanMode(*)",
      "Read(*)",
      "Edit(*)",
      "MultiEdit(*)",
      "Write(*)",
      "NotebookRead(*)",
      "NotebookEdit(*)",
      "WebFetch(*)",
      "TodoWrite(*)",
      "WebSearch(*)",
      "mcp__ide__getDiagnostics",
      "mcp__ide__executeCode",
      "mcp__gemini-cli__sandbox-test",
      "mcp__gemini-cli__Ping",
      "mcp__gemini-cli__Help",
      "Bash(python:*)",
      "Bash(find:*)",
      "Bash(ls:*)",
      "Bash(dbt parse:*)",
      "Bash(./scripts/run_ci_tests.sh:*)",
      "Bash(source:*)",
      "Bash(ruff check:*)",
      "Bash(dbt compile:*)",
      "Bash(dbt run:*)",
      "Bash(duckdb:*)",
      "Bash(chmod:*)",
      "Bash(git add:*)",
      "Bash(git checkout:*)",
      "Bash(git merge:*)",
      "Bash(git push:*)",
      "Bash(git branch:*)",
      "Bash(git commit:*)",
      "Bash(dbt build:*)",
      "Bash(rm:*)",
      "Bash(grep:*)",
      "Bash(python3 -c \"print(''Python syntax check - no compilation needed for SQL'')\")",
      "Bash(python3 -c \"\ntry:\n    from orchestrator_mvp.core.multi_year_orchestrator import MultiYearSimulationOrchestrator\n    print(''✅ Multi-year orchestrator imports successfully'')\nexcept ImportError as e:\n    print(f''❌ Import error in orchestrator: {e}'')\n\ntry:\n    from orchestrator_mvp.core.workforce_snapshot import generate_workforce_snapshot\n    print(''✅ Workforce snapshot imports successfully'')\nexcept ImportError as e:\n    print(f''❌ Import error in workforce snapshot: {e}'')\n\ntry:\n    import pytest\n    print(''✅ pytest available for tests'')\nexcept ImportError as e:\n    print(f''❌ pytest not available: {e}'')\n\")",
      "Bash(dbt deps:*)",
      "Bash(mv:*)",
      "Bash(awk:*)",
      "Bash(sed:*)",
      "Bash(dbt seed:*)",
      "Bash(sqlite3:*)",
      "Bash(pip install:*)",
      "Bash(pip3 install:*)",
      "Bash(./venv/bin/python:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt --version)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year --vars '{simulation_year: 2025, start_year: 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year --vars '{simulation_year: 2026, start_year: 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_active_employees_prev_year_snapshot --vars '{simulation_year: 2026}')",
      "Bash(dbt list:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars '{simulation_year: 2028, start_year: 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select test_promotion_events_applied_to_workforce_state)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select test_promotion_events_applied_to_workforce_state --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models int_employee_event_stream+ --output name)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models +int_employee_event_stream --output name)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models +int_employee_event_stream --output name --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_event_stream --vars '{simulation_year: 2028, start_year: 2025}')",
      "Bash(dbt test:*)",
      "Bash(echo:*)",
      "Bash(timeout 120 python -m orchestrator_mvp.run_mvp:*)",
      "Bash(gtimeout:*)",
      "Bash(dbt show:*)",
      "Bash(git rm:*)",
      "Bash(git stash push:*)",
      "Bash(pkill:*)",
      "Bash(dbt ls:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt parse)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select config_job_levels)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --select \"int_*\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt parse --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select config_job_levels --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2027\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt parse --vars \"simulation_year: 2027\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_baseline_workforce --vars \"simulation_year: 2027\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\nconn = duckdb.connect(''dbt/simulation.duckdb'')\nresult = conn.execute(''SHOW TABLES'').fetchall()\nprint(''Available tables:'')\nfor table in result:\n    print(''  -'', table[0])\nconn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_baseline_workforce --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_timing_coordination --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_auto_enrollment_window_determination --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\nconn = duckdb.connect(''dbt/simulation.duckdb'')\ntry:\n    result = conn.execute(''DESCRIBE fct_yearly_events'').fetchall()\n    print(''fct_yearly_events schema:'')\n    for i, (col_name, col_type, null, key, default, extra) in enumerate(result, 1):\n        print(f''{i:2d}. {col_name} ({col_type})'')\nexcept Exception as e:\n    print(''fct_yearly_events table does not exist yet'')\n    print(''Let me check what other event models output...'')\nfinally:\n    conn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars '{\"\"simulation_year\"\": 2026, \"\"auto_enrollment_hire_date_cutoff\"\": null}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars '{\"\"simulation_year\"\": 2026, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2025-01-01\"\"}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\nconn = duckdb.connect(''simulation.duckdb'')\n\n# Check if the employee exists in baseline workforce\nprint(''=== BASELINE WORKFORCE DATA ==='')\nbaseline_query = ''''''\nSELECT employee_id, employee_hire_date, current_age, current_tenure, \n       employment_status, simulation_year, is_from_census\nFROM int_baseline_workforce \nWHERE employee_id = ''EMP_2024_000010''\nORDER BY simulation_year\n''''''\nresult = conn.execute(baseline_query).fetchall()\nif result:\n    print(''Found in baseline workforce:'')\n    for row in result:\n        print(f''  Employee: {row[0]}, Hire Date: {row[1]}, Age: {row[2]}, Tenure: {row[3]}, Status: {row[4]}, Sim Year: {row[5]}, From Census: {row[6]}'')\nelse:\n    print(''Employee EMP_2024_000010 NOT found in baseline workforce'')\n\n# Check workforce snapshot\nprint(''\\n=== WORKFORCE SNAPSHOT DATA ==='')\nsnapshot_query = ''''''\nSELECT employee_id, employee_hire_date, current_age, employment_status, simulation_year\nFROM fct_workforce_snapshot \nWHERE employee_id = ''EMP_2024_000010''\nORDER BY simulation_year\n''''''\nresult = conn.execute(snapshot_query).fetchall()\nif result:\n    print(''Found in workforce snapshot:'')\n    for row in result:\n        print(f''  Employee: {row[0]}, Hire Date: {row[1]}, Age: {row[2]}, Status: {row[3]}, Sim Year: {row[4]}'')\nelse:\n    print(''Employee EMP_2024_000010 NOT found in workforce snapshot'')\n\n# Check staging census data  \nprint(''\\n=== STAGING CENSUS DATA ==='')\nstaging_query = ''''''\nSELECT employee_id, employee_hire_date, employee_birth_date, employee_gross_compensation, active\nFROM stg_census_data \nWHERE employee_id = ''EMP_2024_000010''\n''''''\nresult = conn.execute(staging_query).fetchall()\nif result:\n    print(''Found in staging census:'')\n    for row in result:\n        print(f''  Employee: {row[0]}, Hire Date: {row[1]}, Birth Date: {row[2]}, Compensation: {row[3]}, Active: {row[4]}'')\nelse:\n    print(''Employee EMP_2024_000010 NOT found in staging census'')\n\nconn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select debug_employee_enrollment --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2025-01-01\"\"}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run-operation run_query --args '{query: \"\"SELECT * FROM debug_employee_enrollment ORDER BY source_table, simulation_year\"\"}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select enrollment_event_analysis)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select test_current_enrollment_logic --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2025-01-01\"\"}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars '{\"\"simulation_year\"\": 2026, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2025-01-01\"\"}' --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select verify_hire_date_cutoff_working --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2025-01-01\"\"}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select find_problem_employee)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2025-01-01\"\", \"\"auto_enrollment_scope\"\": \"\"new_hires_only\"\"}' --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select debug_enrollment_eligibility --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2025-01-01\"\", \"\"auto_enrollment_scope\"\": \"\"new_hires_only\"\"}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select debug_enrollment_eligibility --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_scope\"\": \"\"new_hires_only\"\"}' --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select debug_enrollment_eligibility --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2020-01-01\"\", \"\"auto_enrollment_scope\"\": \"\"all_eligible_employees\"\"}' --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select test_realistic_config)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select simple_enrollment_test)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars '{\"\"simulation_year\"\": 2025, \"\"auto_enrollment_hire_date_cutoff\"\": \"\"2020-01-01\"\", \"\"auto_enrollment_scope\"\": \"\"all_eligible_employees\"\"}' --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select verify_fixed_enrollment)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year int_enrollment_events --vars '{\"\"simulation_year\"\": 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars '{\"\"simulation_year\"\": 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_termination_events int_hiring_events int_merit_events int_promotion_events int_new_hire_termination_events --vars '{\"\"simulation_year\"\": 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars '{\"\"simulation_year\"\": 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python orchestrator_mvp/run_single_year.py --year 2025)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nfrom orchestrator_mvp.core.database_manager import clear_database\nfrom orchestrator_mvp.core.event_emitter import generate_and_store_all_events\nfrom orchestrator_mvp.core.workforce_calculations import calculate_workforce_requirements\n\nprint(''🔄 Clearing database...'')\nclear_database()\n\nprint(''🔄 Calculating workforce requirements...'')\ncalc_result = calculate_workforce_requirements(2025)\nprint(f''📊 Calculated: {calc_result}'')\n\nprint(''🔄 Generating all events...'')\ngenerate_and_store_all_events(calc_result, 2025, random_seed=42)\n\nprint(''✅ Events generated successfully!'')\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nfrom orchestrator_mvp.core.database_manager import clear_database\nfrom orchestrator_mvp.core.event_emitter import generate_and_store_all_events\nfrom orchestrator_mvp.core.workforce_calculations import calculate_workforce_requirements\nfrom orchestrator_mvp.loaders.staging_loader import run_dbt_model\n\nprint(''🔄 Setting up database with seed data...'')\nrun_dbt_model(''stg_census_data'')\nrun_dbt_model(''int_baseline_workforce'')\nrun_dbt_model(''int_employee_compensation_by_year'', {''simulation_year'': 2025})\n\nprint(''🔄 Calculating workforce requirements...'')\ncalc_result = calculate_workforce_requirements(2025, 0.03, 0.12, 0.25)\nprint(f''📊 Calculated: {calc_result}'')\n\nprint(''🔄 Generating all events...'')\ngenerate_and_store_all_events(calc_result, 2025, random_seed=42)\n\nprint(''✅ Events generated successfully!'')\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_census_data int_baseline_workforce int_employee_compensation_by_year --vars '{\"\"simulation_year\"\": 2025}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select 'tag:staging')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select 'stg_*')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --select 'stg_*')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models stg_config_job_levels)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -m orchestrator_mvp.run_multi_year --force-clear --no-breaks)",
      "Bash(mkdir:*)",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator python orchestrator_dbt/tests/test_enhanced_year_processor.py)",
      "Bash(dbt debug:*)",
      "Bash(timeout 30 python orchestrator_dbt/run_foundation.py)",
      "Bash(dbt:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\nimport os\nprint(''=== DATABASE FILE LOCATIONS ==='')\nprint(f''Current working directory: {os.getcwd()}'')\nprint(f''simulation.duckdb exists: {os.path.exists(\"\"simulation.duckdb\"\")}'')\nprint(f''dbt/simulation.duckdb exists: {os.path.exists(\"\"dbt/simulation.duckdb\"\")}'')\nprint()\n\n# Check main simulation.duckdb\nif os.path.exists(''simulation.duckdb''):\n    print(''=== MAIN simulation.duckdb TABLES ==='')\n    conn = duckdb.connect(''simulation.duckdb'')\n    try:\n        tables = conn.execute(''SHOW TABLES'').fetchall()\n        for table in tables:\n            print(f''  - {table[0]}'')\n    except Exception as e:\n        print(f''Error querying main db: {e}'')\n    finally:\n        conn.close()\nelse:\n    print(''Main simulation.duckdb does not exist'')\n\nprint()\n\n# Check dbt simulation.duckdb  \nif os.path.exists(''dbt/simulation.duckdb''):\n    print(''=== DBT simulation.duckdb TABLES ==='')\n    conn = duckdb.connect(''dbt/simulation.duckdb'')\n    try:\n        tables = conn.execute(''SHOW TABLES'').fetchall()\n        for table in tables:\n            print(f''  - {table[0]}'')\n    except Exception as e:\n        print(f''Error querying dbt db: {e}'')\n    finally:\n        conn.close()\nelse:\n    print(''DBT simulation.duckdb does not exist'')\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\nimport os\n\n# Check main directory database\nmain_db = ''simulation.duckdb''\ndbt_db = ''dbt/simulation.duckdb''\n\nprint(''=== MAIN DATABASE (simulation.duckdb) ==='')\nif os.path.exists(main_db):\n    conn = duckdb.connect(main_db)\n    try:\n        tables = conn.execute(''SHOW TABLES'').fetchall()\n        print(f''Tables found: {len(tables)}'')\n        for table in tables:\n            print(f''  - {table[0]}'')\n            # Get row count for each table\n            try:\n                count = conn.execute(f''SELECT COUNT(*) FROM {table[0]}'').fetchone()[0]\n                print(f''    Rows: {count}'')\n            except Exception as e:\n                print(f''    Error getting count: {e}'')\n    except Exception as e:\n        print(f''Error: {e}'')\n    finally:\n        conn.close()\nelse:\n    print(''File does not exist'')\n\nprint()\nprint(''=== DBT DATABASE (dbt/simulation.duckdb) ==='')\nif os.path.exists(dbt_db):\n    conn = duckdb.connect(dbt_db)\n    try:\n        tables = conn.execute(''SHOW TABLES'').fetchall()\n        print(f''Tables found: {len(tables)}'')\n        for table in tables:\n            print(f''  - {table[0]}'')\n            # Get row count and check for workforce_needs table\n            if ''workforce_needs'' in table[0]:\n                try:\n                    result = conn.execute(f''SELECT * FROM {table[0]} LIMIT 5'').fetchall()\n                    print(f''    Sample data: {result}'')\n                except Exception as e:\n                    print(f''    Error getting sample: {e}'')\n    except Exception as e:\n        print(f''Error: {e}'')\n    finally:\n        conn.close()\nelse:\n    print(''File does not exist'')\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\n\nconn = duckdb.connect(''simulation.duckdb'')\n\nprint(''=== INT_WORKFORCE_NEEDS TABLE ==='')\nresult = conn.execute(''SELECT * FROM int_workforce_needs'').fetchall()\nprint(''Columns:'', [desc[0] for desc in conn.description])\nfor row in result:\n    print(''Data:'', row)\n\nprint()\nprint(''=== INT_WORKFORCE_NEEDS_BY_LEVEL TABLE ==='')\nresult = conn.execute(''SELECT * FROM int_workforce_needs_by_level ORDER BY job_level'').fetchall()\nprint(''Columns:'', [desc[0] for desc in conn.description])\nfor row in result:\n    print(''Data:'', row)\n\nconn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\n\nconn = duckdb.connect(''simulation.duckdb'')\n\nprint(''=== INT_WORKFORCE_NEEDS_BY_LEVEL TABLE ==='')\nresult = conn.execute(''SELECT * FROM int_workforce_needs_by_level'').fetchall()\nprint(''Columns:'', [desc[0] for desc in conn.description])\nfor row in result:\n    print(''Data:'', row)\n\nconn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\n# Test the workforce needs interface directly\nimport sys\nsys.path.append(''/Users/nicholasamaral/planwise_navigator'')\n\nfrom orchestrator_dbt.core.config import OrchestrationConfig\nfrom orchestrator_dbt.core.database_manager import DatabaseManager\nfrom orchestrator_dbt.core.dbt_executor import DbtExecutor\nfrom orchestrator_dbt.core.workforce_needs_interface import DbtWorkforceNeedsInterface\n\ntry:\n    # Initialize components\n    config = OrchestrationConfig()\n    db_manager = DatabaseManager(config)\n    dbt_executor = DbtExecutor(config)\n    interface = DbtWorkforceNeedsInterface(config, db_manager, dbt_executor)\n    \n    print(''=== TESTING WORKFORCE NEEDS INTERFACE ==='')\n    \n    # Test validation\n    is_valid = interface.validate_workforce_needs_models(2025, ''default'')\n    print(f''Models validation: {is_valid}'')\n    \n    # Test getting requirements\n    requirements = interface.get_workforce_requirements(2025, ''default'')\n    if requirements:\n        print(f''✅ Retrieved requirements: {requirements.total_hires_needed} hires needed'')\n        print(f''   Starting workforce: {requirements.starting_workforce_count}'')\n        print(f''   Growth rate: {requirements.target_growth_rate}'')\n        print(f''   Balance status: {requirements.balance_status}'')\n    else:\n        print(''❌ No requirements found'')\n    \n    # Test level breakdown\n    level_breakdown = interface.get_level_breakdown(2025, ''default'')\n    print(f''Level breakdown: {len(level_breakdown)} levels found'')\n    \n    for level in level_breakdown:\n        print(f''   Level {level.level_id}: {level.hires_needed} hires, {level.current_headcount} current'')\n        \nexcept Exception as e:\n    print(f''💥 Error: {e}'')\n    import traceback\n    traceback.print_exc()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\n# Test the workforce calculator directly\nimport sys\nsys.path.append(''/Users/nicholasamaral/planwise_navigator'')\n\nfrom orchestrator_dbt.core.config import OrchestrationConfig\nfrom orchestrator_dbt.core.database_manager import DatabaseManager\nfrom orchestrator_dbt.core.dbt_executor import DbtExecutor\nfrom orchestrator_dbt.simulation.workforce_calculator import WorkforceCalculator, WorkforceScenario\n\ntry:\n    # Initialize components\n    config = OrchestrationConfig()\n    db_manager = DatabaseManager(config)\n    dbt_executor = DbtExecutor(config)\n    calculator = WorkforceCalculator(db_manager, config, dbt_executor)\n    \n    print(''=== TESTING WORKFORCE CALCULATOR ==='')\n    \n    # Test workforce calculation\n    requirements = calculator.calculate_workforce_requirements(2025, WorkforceScenario.GROWTH)\n    \n    print(f''✅ Calculator result:'')\n    print(f''   Total hires needed: {requirements.total_hires_needed}'')\n    print(f''   Current workforce: {requirements.current_workforce}'')\n    print(f''   Experienced terminations: {requirements.experienced_terminations}'')\n    print(f''   Growth amount: {requirements.growth_amount}'')\n    print(f''   Formula source: {requirements.formula_details.get(\"\"source\"\", \"\"unknown\"\")}'')\n    print(f''   Warnings: {requirements.warnings}'')\n    print(f''   Errors: {requirements.errors}'')\n    \nexcept Exception as e:\n    print(f''💥 Error: {e}'')\n    import traceback\n    traceback.print_exc()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\n# Test the full pipeline step by step to identify the problem\nimport sys\nsys.path.append(''/Users/nicholasamaral/planwise_navigator'')\n\nfrom orchestrator_dbt.core.config import OrchestrationConfig\nfrom orchestrator_dbt.core.database_manager import DatabaseManager\nfrom orchestrator_dbt.core.dbt_executor import DbtExecutor\nfrom orchestrator_dbt.simulation.workforce_calculator import WorkforceCalculator, WorkforceScenario\nfrom orchestrator_dbt.simulation.event_generator import BatchEventGenerator\n\n# Initialize all components\nconfig = OrchestrationConfig()\ndb_manager = DatabaseManager(config)\ndbt_executor = DbtExecutor(config)\ncalculator = WorkforceCalculator(db_manager, config, dbt_executor)\nevent_generator = BatchEventGenerator(db_manager, config, dbt_executor, batch_size=10000)\n\nprint(''=== TESTING FULL EVENT GENERATION PIPELINE ==='')\n\n# Step 1: Calculate workforce requirements (we know this works)\nrequirements = calculator.calculate_workforce_requirements(2025, WorkforceScenario.GROWTH)\nprint(f''✅ Step 1 - Workforce requirements: {requirements.total_hires_needed} hires needed'')\n\n# Step 2: Create workforce requirements dictionary\nworkforce_dict = {\n    ''experienced_terminations'': requirements.experienced_terminations,\n    ''total_hires_needed'': requirements.total_hires_needed,\n    ''expected_new_hire_terminations'': requirements.expected_new_hire_terminations,\n    ''new_hire_termination_rate'': requirements.new_hire_termination_rate\n}\nprint(f''✅ Step 2 - Workforce dict created: {workforce_dict}'')\n\n# Step 3: Generate events using the BatchEventGenerator\nprint(f''🔄 Step 3 - Generating events...'')\nmetrics = event_generator.generate_all_events(2025, workforce_dict, 42, ''default'')\n\nprint(f''✅ Step 3 - Event generation completed:'')\nprint(f''   Total events: {metrics.total_events}'')\nprint(f''   Hire events: {metrics.hire_events}'')\nprint(f''   Termination events: {metrics.termination_events}'')\nprint(f''   Generation time: {metrics.generation_time:.2f}s'')\nprint(f''   Events/sec: {metrics.events_per_second:.0f}'')\n\n# Step 4: Check what was actually stored in the database\nwith db_manager.get_connection() as conn:\n    hire_count = conn.execute(''SELECT COUNT(*) FROM fct_yearly_events WHERE event_type = \"\"hire\"\" AND simulation_year = 2025'').fetchone()[0]\n    term_count = conn.execute(''SELECT COUNT(*) FROM fct_yearly_events WHERE event_type = \"\"termination\"\" AND simulation_year = 2025'').fetchone()[0]\n    \n    print(f''✅ Step 4 - Database verification:'')\n    print(f''   Hires in database: {hire_count}'')\n    print(f''   Terminations in database: {term_count}'')\n    \n    if hire_count != requirements.total_hires_needed:\n        print(f''❌ MISMATCH: Expected {requirements.total_hires_needed} hires, got {hire_count}'')\n    else:\n        print(f''✅ MATCH: Hire count matches expectations'')\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\n# Test the full pipeline step by step to identify the problem\nimport sys\nsys.path.append(''/Users/nicholasamaral/planwise_navigator'')\n\nfrom orchestrator_dbt.core.config import OrchestrationConfig\nfrom orchestrator_dbt.core.database_manager import DatabaseManager\nfrom orchestrator_dbt.core.dbt_executor import DbtExecutor\nfrom orchestrator_dbt.simulation.workforce_calculator import WorkforceCalculator, WorkforceScenario\nfrom orchestrator_dbt.simulation.event_generator import BatchEventGenerator\n\n# Initialize all components\nconfig = OrchestrationConfig()\ndb_manager = DatabaseManager(config)\ndbt_executor = DbtExecutor(config)\ncalculator = WorkforceCalculator(db_manager, config, dbt_executor)\nevent_generator = BatchEventGenerator(db_manager, config, dbt_executor, batch_size=10000)\n\nprint(''=== TESTING FULL EVENT GENERATION PIPELINE ==='')\n\n# Step 1: Calculate workforce requirements (we know this works)\nrequirements = calculator.calculate_workforce_requirements(2025, WorkforceScenario.GROWTH)\nprint(f''✅ Step 1 - Workforce requirements: {requirements.total_hires_needed} hires needed'')\n\n# Step 2: Create workforce requirements dictionary\nworkforce_dict = {\n    ''experienced_terminations'': requirements.experienced_terminations,\n    ''total_hires_needed'': requirements.total_hires_needed,\n    ''expected_new_hire_terminations'': requirements.expected_new_hire_terminations,\n    ''new_hire_termination_rate'': requirements.new_hire_termination_rate\n}\nprint(f''✅ Step 2 - Workforce dict created: {workforce_dict}'')\n\n# Step 3: Generate events using the BatchEventGenerator\nprint(f''🔄 Step 3 - Generating events...'')\nmetrics = event_generator.generate_all_events(2025, workforce_dict, 42, ''default'')\n\nprint(f''✅ Step 3 - Event generation completed:'')\nprint(f''   Total events: {metrics.total_events}'')\nprint(f''   Hire events: {metrics.hire_events}'')\nprint(f''   Termination events: {metrics.termination_events}'')\nprint(f''   Generation time: {metrics.generation_time:.2f}s'')\nprint(f''   Events/sec: {metrics.events_per_second:.0f}'')\n\n# Step 4: Check what was actually stored in the database\nwith db_manager.get_connection() as conn:\n    hire_count = conn.execute(''SELECT COUNT(*) FROM fct_yearly_events WHERE event_type = \"\"hire\"\" AND simulation_year = 2025'').fetchone()[0]\n    term_count = conn.execute(''SELECT COUNT(*) FROM fct_yearly_events WHERE event_type = \"\"termination\"\" AND simulation_year = 2025'').fetchone()[0]\n    \n    print(f''✅ Step 4 - Database verification:'')\n    print(f''   Hires in database: {hire_count}'')\n    print(f''   Terminations in database: {term_count}'')\n    \n    if hire_count != requirements.total_hires_needed:\n        print(f''❌ MISMATCH: Expected {requirements.total_hires_needed} hires, got {hire_count}'')\n    else:\n        print(f''✅ MATCH: Hire count matches expectations'')\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\n# Test the full pipeline step by step to identify the problem\nimport sys\nsys.path.append(''/Users/nicholasamaral/planwise_navigator'')\n\nfrom orchestrator_dbt.core.config import OrchestrationConfig\nfrom orchestrator_dbt.core.database_manager import DatabaseManager\nfrom orchestrator_dbt.core.dbt_executor import DbtExecutor\nfrom orchestrator_dbt.simulation.workforce_calculator import WorkforceCalculator, WorkforceScenario\nfrom orchestrator_dbt.simulation.event_generator import BatchEventGenerator\n\n# Initialize all components\nconfig = OrchestrationConfig()\ndb_manager = DatabaseManager(config)\ndbt_executor = DbtExecutor(config)\ncalculator = WorkforceCalculator(db_manager, config, dbt_executor)\nevent_generator = BatchEventGenerator(db_manager, config, dbt_executor, batch_size=10000)\n\nprint(''=== TESTING FULL EVENT GENERATION PIPELINE ==='')\n\n# Step 1: Calculate workforce requirements (we know this works)\nrequirements = calculator.calculate_workforce_requirements(2025, WorkforceScenario.GROWTH)\nprint(f''✅ Step 1 - Workforce requirements: {requirements.total_hires_needed} hires needed'')\n\n# Step 2: Create workforce requirements dictionary\nworkforce_dict = {\n    ''experienced_terminations'': requirements.experienced_terminations,\n    ''total_hires_needed'': requirements.total_hires_needed,\n    ''expected_new_hire_terminations'': requirements.expected_new_hire_terminations,\n    ''new_hire_termination_rate'': requirements.new_hire_termination_rate\n}\nprint(f''✅ Step 2 - Workforce dict created: {workforce_dict}'')\n\n# Step 3: Generate events using the BatchEventGenerator\nprint(f''🔄 Step 3 - Generating events...'')\nmetrics = event_generator.generate_all_events(2025, workforce_dict, 42, ''default'')\n\nprint(f''✅ Step 3 - Event generation completed:'')\nprint(f''   Total events: {metrics.total_events}'')\nprint(f''   Hire events: {metrics.hire_events}'')\nprint(f''   Termination events: {metrics.termination_events}'')\nprint(f''   Generation time: {metrics.generation_time:.2f}s'')\nprint(f''   Events/sec: {metrics.events_per_second:.0f}'')\n\n# Step 4: Check what was actually stored in the database\nwith db_manager.get_connection() as conn:\n    hire_count = conn.execute(''SELECT COUNT(*) FROM fct_yearly_events WHERE event_type = \\\"\"hire\\\"\" AND simulation_year = 2025'').fetchone()[0]\n    term_count = conn.execute(''SELECT COUNT(*) FROM fct_yearly_events WHERE event_type = \\\"\"termination\\\"\" AND simulation_year = 2025'').fetchone()[0]\n    \n    print(f''✅ Step 4 - Database verification:'')\n    print(f''   Hires in database: {hire_count}'')\n    print(f''   Terminations in database: {term_count}'')\n    \n    if hire_count != requirements.total_hires_needed:\n        print(f''❌ MISMATCH: Expected {requirements.total_hires_needed} hires, got {hire_count}'')\n    else:\n        print(f''✅ MATCH: Hire count matches expectations'')\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_census_data int_baseline_workforce int_employee_compensation_by_year --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\n\nconn = duckdb.connect(''dbt/simulation.duckdb'')\n\nprint(''=== WORKFORCE NEEDS CALCULATION AFTER FIXES ==='')\nresult = conn.execute(''SELECT * FROM int_workforce_needs'').fetchall()\n\nif result:\n    columns = [desc[0] for desc in conn.description]\n    row = result[0]  # Should be only one row\n    \n    print(''Key metrics:'')\n    for i, col in enumerate(columns):\n        if ''hire'' in col.lower() or ''workforce'' in col.lower() or ''growth'' in col.lower():\n            print(f''   {col}: {row[i]}'')\n            \n    # Check specific critical values\n    total_hires_idx = columns.index(''total_hires_needed'') if ''total_hires_needed'' in columns else None\n    if total_hires_idx:\n        hires_needed = row[total_hires_idx]\n        print(f''\\n🎯 CRITICAL RESULT: {hires_needed} hires needed'')\n        \n        if hires_needed == 873:\n            print(''✅ SUCCESS: Calculation restored to expected 873 hires!'')\n        elif hires_needed > 5000:\n            print(''❌ FAILURE: Still showing inflated calculation'')\n        else:\n            print(f''⚠️  PARTIAL: Different from expected 873, but not inflated'')\n            \nelse:\n    print(''❌ No results found'')\n    \nconn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\n\nconn = duckdb.connect(''simulation.duckdb'')\n\nprint(''=== WORKFORCE NEEDS CALCULATION AFTER FIXES ==='')\nresult = conn.execute(''SELECT * FROM int_workforce_needs'').fetchall()\n\nif result:\n    columns = [desc[0] for desc in conn.description]\n    row = result[0]  # Should be only one row\n    \n    print(''Key metrics:'')\n    for i, col in enumerate(columns):\n        if ''hire'' in col.lower() or ''workforce'' in col.lower() or ''growth'' in col.lower():\n            print(f''   {col}: {row[i]}'')\n            \n    # Check specific critical values\n    total_hires_idx = columns.index(''total_hires_needed'') if ''total_hires_needed'' in columns else None\n    if total_hires_idx:\n        hires_needed = row[total_hires_idx]\n        print(f''\\n🎯 CRITICAL RESULT: {hires_needed} hires needed'')\n        \n        if hires_needed == 873:\n            print(''✅ SUCCESS: Calculation restored to expected 873 hires!'')\n        elif hires_needed > 5000:\n            print(''❌ FAILURE: Still showing inflated calculation'')\n        else:\n            print(f''⚠️  PARTIAL: Different from expected 873, but not inflated'')\n            \nelse:\n    print(''❌ No results found'')\n    \nconn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python workforce_validation.py)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_hiring_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\nimport duckdb\nconn = duckdb.connect(''simulation.duckdb'')\nresult = conn.execute(''SELECT COUNT(*) FROM int_hiring_events WHERE simulation_year = 2025'').fetchone()\nprint(f''Hiring events in int_hiring_events: {result[0]}'')\n\n# Also check the workforce needs\nresult2 = conn.execute(''SELECT total_hires_needed FROM int_workforce_needs WHERE simulation_year = 2025'').fetchone()\nprint(f''Total hires needed from workforce needs: {result2[0] if result2 else \"\"NOT FOUND\"\"}'')\n\n# Check int_workforce_needs_by_level\nresult3 = conn.execute(''SELECT SUM(hires_needed) FROM int_workforce_needs_by_level WHERE simulation_year = 2025'').fetchone()\nprint(f''Sum of hires from level breakdown: {result3[0] if result3 and result3[0] else \"\"NOT FOUND\"\"}'')\n\nconn.close()\n\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/python:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs_by_level --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs_by_level --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select data_quality_new_hire_termination_audit --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --select fct_yearly_events fct_workforce_snapshot)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events fct_workforce_snapshot --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"int_*_events\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models \"int_*\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"int_hiring_events int_termination_events int_new_hire_termination_events int_promotion_events int_merit_events\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"int_hazard_promotion\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"int_promotion_events\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"int_merit_events\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"int_hazard_merit\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"fct_yearly_events\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"int_enrollment_events\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"fct_workforce_snapshot\" --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models fct_yearly_events fct_workforce_snapshot --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models fct_yearly_events fct_workforce_snapshot)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_new_hire_termination_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_hiring_events int_new_hire_termination_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs int_workforce_needs_by_level int_hiring_events int_new_hire_termination_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_hiring_events int_new_hire_termination_events --vars \"simulation_year: 2025\" --full-refresh --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"simulation_year: 2026\")",
      "Bash(duck:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --full-refresh --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --full-refresh --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot fct_yearly_events --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_new_hire_termination_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_baseline_workforce --full-refresh --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_census_data int_baseline_workforce int_employee_compensation_by_year int_workforce_needs int_workforce_needs_by_level int_hiring_events int_new_hire_termination_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_effective_parameters --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models int_effective_parameters)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs int_workforce_needs_by_level int_hiring_events int_new_hire_termination_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_termination_events int_promotion_events int_merit_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_hazard_merit int_hazard_promotion --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_merit_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events fct_workforce_snapshot --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models \"int_*\" --output name)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models \"int_*\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models int_termination_events int_new_hire_termination_events int_promotion_events int_hiring_events int_merit_events int_eligibility_determination int_enrollment_events)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs --vars \"simulation_year: 2026\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year --vars \"simulation_year: 2026\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_active_employees_prev_year_snapshot --vars \"simulation_year: 2026\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_active_employees_prev_year_snapshot --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_workforce_needs --vars \"simulation_year: 2026\" --limit 1)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_termination_events int_hiring_events int_new_hire_termination_events --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_promotion_events int_merit_events --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select fct_yearly_events --vars \"simulation_year: 2026\" --where \"simulation_year = 2026\" --limit 10)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_needs_by_level --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_hiring_events --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events fct_workforce_snapshot --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select dq_employee_id_validation --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_census_data int_baseline_workforce int_employee_compensation_by_year int_workforce_needs int_workforce_needs_by_level int_hiring_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"simulation_year: 2028\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt parse --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_historical_enrollment_tracker --vars \"simulation_year: 2025\")",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator /Users/nicholasamaral/planwise_navigator/venv/bin/python orchestrator_dbt/run_multi_year.py --years 2025)",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator /Users/nicholasamaral/planwise_navigator/venv/bin/python orchestrator_dbt/run_multi_year.py --start-year 2025 --end-year 2025)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_historical_enrollment_tracker int_enrollment_events --vars \"simulation_year: 2027\")",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator /Users/nicholasamaral/planwise_navigator/venv/bin/python -c \"\n# Quick test to see if enrollment duplication is fixed\nimport duckdb\nimport sys\n\nconn = duckdb.connect(''simulation.duckdb'')\n\n# Check enrollment events for NH_2026_000787 across multiple years\nprint(''=== ENROLLMENT EVENTS FOR NH_2026_000787 ACROSS YEARS ==='')\nquery = ''''''\nSELECT employee_id, simulation_year, event_type, effective_date, event_details\nFROM fct_yearly_events \nWHERE employee_id = ''NH_2026_000787'' \n  AND event_type = ''enrollment''\nORDER BY simulation_year, effective_date\n''''''\n\ntry:\n    results = conn.execute(query).fetchall()\n    if results:\n        print(''Found enrollment events:'')\n        for row in results:\n            print(f''  {row[0]} | {row[1]} | {row[2]} | {row[3]} | {row[4]}'')\n        \n        unique_years = set(row[1] for row in results)\n        if len(results) > len(unique_years):\n            print(f''❌ ISSUE: {len(results)} enrollment events across {len(unique_years)} years - duplicates detected'')\n        else:\n            print(f''✅ GOOD: {len(results)} enrollment events across {len(unique_years)} years - no duplicates'')\n    else:\n        print(''No enrollment events found for NH_2026_000787'')\n        \nexcept Exception as e:\n    print(f''Query failed: {e}'')\n    \nconn.close()\n\")",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator /Users/nicholasamaral/planwise_navigator/venv/bin/python orchestrator_dbt/run_multi_year.py --start-year 2025 --end-year 2027)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_historical_enrollment_tracker int_enrollment_events --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt parse --select fct_workforce_snapshot --vars \"simulation_year: 2025\")",
      "Bash(timeout:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"simulation_year: 2027\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_active_employees_prev_year_snapshot --vars \"simulation_year: 2027\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"simulation_year: 2026\" --full-refresh --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(git log:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_state_accumulator int_enrollment_events fct_workforce_snapshot --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select validate_enrollment_architecture --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_census_data int_baseline_workforce int_employee_compensation_by_year int_workforce_needs int_workforce_needs_by_level int_hiring_events int_termination_events int_new_hire_termination_events int_promotion_events int_merit_events int_enrollment_events fct_yearly_events int_enrollment_state_accumulator fct_workforce_snapshot --vars \"simulation_year: 2025\")",
      "Bash(dagster asset:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models \"stg_config*\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select comp_levers)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_comp_levers)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select int_effective_parameters)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_comp_levers int_effective_parameters --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select +int_effective_parameters --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select +int_effective_parameters)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"stg_*\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models \"staging.*\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models \"+int_enrollment_state_accumulator\" --output name)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_active_employees_prev_year_snapshot --vars \"simulation_year: 2026\" --no-defer)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_active_employees_prev_year_snapshot int_employee_compensation_by_year int_workforce_needs int_workforce_needs_by_level --vars \"simulation_year: 2026\" --exclude int_enrollment_events int_enrollment_state_accumulator)",
      "Bash(for year in 2027 2028)",
      "Bash(do echo \"Rebuilding enrollment state accumulator for year $year\")",
      "Bash(done)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_effective_parameters --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_effective_parameters --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models int_merit_events --vars \"simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025\" --log-level debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models int_merit_events --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\" --log-level debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models int_merit_events fct_yearly_events --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models stg_census_data int_baseline_workforce int_effective_parameters --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select default_deferral_rates)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select fct_yearly_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars \"simulation_year: 2025\" --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt --debug run --select fct_yearly_events --vars \"simulation_year: 2025\" --full-refresh)",
      "Bash(cat:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_enrollment_events --vars \"simulation_year: 2025\" --limit 3)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events fct_yearly_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select fct_yearly_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select fct_yearly_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --select int_enrollment_events --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_baseline_workforce --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --log-level debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_census_data int_baseline_workforce int_employee_compensation_by_year int_enrollment_events --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select \"stg_*\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models staging --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select staging --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_baseline_workforce int_employee_compensation_by_year --vars \"simulation_year: 2025\" --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\")",
      "Bash(cp:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_contributions --vars \"simulation_year: 2025\")",
      "Bash(true)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select +int_employee_contributions --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_employee_compensation_by_year --vars \"simulation_year: 2025\" --limit 1)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_contributions --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_baseline_workforce --vars \"simulation_year: 2025\" --limit 1 --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select dq_employee_contributions_validation --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_employee_contributions --vars \"simulation_year: 2025\" --limit 5 --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select dq_employee_contributions_validation --vars \"simulation_year: 2025\" --limit 10 --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_contributions fct_workforce_snapshot --vars \"simulation_year: 2026\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_employee_compensation_by_year --vars \"simulation_year: 2025\" --limit 1 --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select irs_contribution_limits --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_employee_contributions --vars \"simulation_year: 2025\" --limit 10 --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run-operation run_query --args '{query: \"\"SELECT employee_id, current_age, requested_contribution_amount, annual_contribution_amount, applicable_irs_limit, irs_limit_applied, amount_capped_by_irs_limit, limit_type FROM int_employee_contributions WHERE irs_limit_applied = true ORDER BY amount_capped_by_irs_limit DESC LIMIT 5\"\"}' --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_contributions --vars \"simulation_year: 2029\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select dq_employee_contributions_validation --vars \"simulation_year: 2029\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select irs_contribution_limits)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select irs_contribution_limits --debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select irs_contribution_limits_backup)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --exclude irs_contribution_limits)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select fct_workforce_snapshot --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"{simulation_year: 2025}\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_workforce_snapshot --vars \"{simulation_year: 2025, cola_rate: 0.005, merit_budget: 0.025}\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --debug)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models \"*enroll*\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select +int_deferral_rate_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt --full-refresh)",
      "Bash(time dbt run:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator int_deferral_escalation_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_escalation_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select default_deferral_rates --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/usr/bin/time -p /Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/usr/bin/time -p /Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/usr/bin/time -p /Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2026\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/usr/bin/time -p /Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2027\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select int_deferral_escalation_state_accumulator --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2025,simulation_year: 2026,simulation_year: 2027\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2026\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2027\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator /usr/bin/time -p /Users/nicholasamaral/planwise_navigator/venv/bin/python orchestrator_dbt/run_multi_year.py --start-year 2025 --end-year 2027 --models int_deferral_escalation_state_accumulator)",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator /usr/bin/time -p /Users/nicholasamaral/planwise_navigator/venv/bin/python orchestrator_dbt/run_multi_year.py --start-year 2025 --end-year 2027)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year int_deferral_rate_escalation_events int_deferral_rate_state_accumulator int_deferral_escalation_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/usr/bin/time -p /Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_compensation_by_year int_deferral_rate_escalation_events int_deferral_rate_state_accumulator int_deferral_escalation_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select int_deferral_escalation_state_accumulator --project-dir /Users/nicholasamaral/planwise_navigator/dbt --quiet)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select int_deferral_rate_state_accumulator --project-dir /Users/nicholasamaral/planwise_navigator/dbt --quiet)",
      "Bash(git reset:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models fct_workforce_snapshot --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models +fct_workforce_snapshot --project-dir dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_escalation_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run-operation run_query --args '{query: \"\"SELECT DISTINCT data_quality_flag FROM int_deferral_rate_state_accumulator\"\"}' --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models \"*enroll*\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select +int_deferral_rate_state_accumulator --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select int_merit_events --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_merit_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select int_merit_events:accepted_values_int_merit_events_event_type__RAISE --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --models int_deferral_rate_state_accumulator --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator --vars \"simulation_year: 2025\" --full-refresh --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --models fct_yearly_events --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employer_core_contributions --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt test --select int_employer_eligibility int_employer_core_contributions)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select +fct_workforce_snapshot --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employer_eligibility int_employer_core_contributions --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models +int_employee_contributions --project-dir /Users/nicholasamaral/planwise_navigator/dbt --output name)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_census_data int_baseline_workforce --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_match_calculations --vars \"{simulation_year: 2025, active_match_formula: tiered_match}\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_employer_core_contributions)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_employee_contributions)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_match_calculations --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt ls --models int_workforce_snapshot_optimized)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_snapshot_optimized --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --full-refresh --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_new_hire_compensation_staging int_employee_compensation_by_year --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models staging)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt list --models int_baseline_workforce)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_deferral_rate_state_accumulator --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator_v2 --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator_v2 --vars \"simulation_year: 2026\" --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator_v2 --vars \"simulation_year: 2025\" --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_rate_state_accumulator_v2 --vars \"simulation_year: 2026\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt seed --select config_job_levels --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_baseline_workforce --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select stg_config_job_levels --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_new_hire_compensation_staging --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_contributions --vars \"simulation_year: 2025\" --full-refresh --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employee_contributions --vars \"simulation_year: 2026\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_baseline_workforce --full-refresh --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_snapshot_optimized --full-refresh --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_snapshot_optimized --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employer_eligibility --vars \"{simulation_year: 2025, employer_core_enabled: true, employer_core_contribution_rate: 0.02, core_minimum_tenure_years: 1, core_require_active_eoy: true, core_minimum_hours: 1000}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employer_eligibility int_employer_core_contributions --vars \"{simulation_year: 2025, employer_core_enabled: true, employer_core_contribution_rate: 0.03, core_minimum_tenure_years: 2, core_require_active_eoy: true, core_minimum_hours: 1000}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employer_core_contributions --vars \"{simulation_year: 2025, employer_core_enabled: false, employer_core_contribution_rate: 0.02, core_minimum_tenure_years: 1, core_require_active_eoy: true, core_minimum_hours: 1000}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employer_core_contributions --vars \"{simulation_year: 2025, employer_core_enabled: true, employer_core_contribution_rate: 0.025, core_minimum_tenure_years: 2, core_require_active_eoy: true, core_minimum_hours: 1000}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_employer_eligibility int_employer_core_contributions --vars \"{simulation_year: 2025, employer_core_enabled: true, employer_core_contribution_rate: 0.025, core_minimum_tenure_years: 1, core_require_active_eoy: true, core_minimum_hours: 1000}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt build --select int_baseline_workforce --vars \"simulation_year: 2025\")",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator /Users/nicholasamaral/planwise_navigator/venv/bin/python -m navigator_orchestrator.pipeline)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select fct_participant_balance_snapshots --limit 1)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_workforce_snapshot_optimized --full-refresh --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_employee_contributions --vars \"simulation_year: 2025\" --limit 1)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_deferral_escalation_state_accumulator --vars \"simulation_year: 2026\" --full-refresh)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select int_deferral_rate_state_accumulator_v2 --vars \"simulation_year: 2025\" --limit 1)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select fct_yearly_events --vars \"simulation_year: 2027\" --full-refresh --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --models int_employer_eligibility --vars \"{simulation_year: 2025}\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models int_employer_eligibility --vars '{\"\"simulation_year\"\": 2025, \"\"core_minimum_tenure_years\"\": 0, \"\"core_require_active_eoy\"\": true, \"\"core_minimum_hours\"\": 1000, \"\"core_allow_new_hires\"\": true, \"\"core_allow_terminated_new_hires\"\": false}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models int_employer_eligibility --vars '{\n  \"\"simulation_year\"\": 2025,\n  \"\"employer_core_contribution\"\": {\n    \"\"eligibility\"\": {\n      \"\"minimum_tenure_years\"\": 0,\n      \"\"require_active_at_year_end\"\": true,\n      \"\"minimum_hours_annual\"\": 1000,\n      \"\"allow_new_hires\"\": true,\n      \"\"allow_terminated_new_hires\"\": false\n    }\n  }\n}')",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --models int_employer_eligibility --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_synthetic_baseline_enrollment_events --vars \"simulation_year: 2025\")",
      "Bash(PYTHONPATH=/Users/nicholasamaral/planwise_navigator python tests/test_no_legacy_db_paths.py)",
      "Bash(gh pr list:*)",
      "Bash(git remote:*)",
      "Bash(feat/E022-eligibility-engine )",
      "Bash(feat/e036-deferral-rate-state-accumulator )",
      "Bash(feat/e038-navigator-orchestrator-refactor )",
      "Bash(feat/new-hire-contribution-fixes )",
      "Bash(feature/E044-production-observability )",
      "Bash(feature/E049-census-deferral-implementation )",
      "Bash(feature/E050-database-location-standardization )",
      "Bash(feature/S013-06-multi-year-orchestration )",
      "Bash(feature/S047-optimization-engine )",
      "Bash(feature/S049-optimization-engine-robustness)",
      "Bash(feature/S072-04-plan-administration-events )",
      "Bash(feature/S072-06-performance-validation-framework )",
      "Bash(feature/S072-07-erisa-compliance-review )",
      "Bash(feature/mvp-orchestrator-modular-structure )",
      "Bash(feature/orchestrator-dbt-integration )",
      "Bash(fix/database-path-configuration-consistency )",
      "Bash(fix/dbt-model-dependencies )",
      "Bash(fix/promotions-compensation-impact)",
      "Bash(claude/issue-4-20250726-1855 )",
      "Bash(claude/issue-5-20250726-1856 )",
      "Bash(claude/issue-6-20250726-1856 )",
      "Bash(claude/issue-7-20250726-1856)",
      "Bash(gh issue view:*)",
      "Bash(git pull:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_employer_core_contributions --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(gh pr create:*)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt show --select fct_workforce_snapshot --vars \"simulation_year: 2025\" --limit 1 --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_voluntary_enrollment_decision --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_proactive_voluntary_enrollment --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_enrollment_events --vars \"simulation_year: 2025\")",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt compile --select int_enrollment_events --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_proactive_voluntary_enrollment --vars \"simulation_year: 2025\" --project-dir /Users/nicholasamaral/planwise_navigator/dbt)",
      "Bash(/Users/nicholasamaral/planwise_navigator/venv/bin/dbt run --select int_enrollment_events --vars \"simulation_year: 2026\" --threads 1)"
    ],
    "deny": []
  }
}
